function getCurrentDate(){var t=new Date,e=t.getDate(),a=t.getMonth()+1,o=t.getFullYear();e<10&&(e="0"+e),a<10&&(a="0"+a);var t=e+"/"+a+"/"+o;return t}function generateUUID(){var t=(new Date).getTime(),e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var a=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?a:3&a|8).toString(16)});return e}function randomFour(){var t=Math.floor(1e3+9e3*Math.random());return t}function slugify(t){return t.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}var config={apiKey:"AIzaSyBuddga2i4I97hq18krbZ5EhTehY_EBy1Q",authDomain:"usable-post.firebaseapp.com",databaseURL:"https://usable-post.firebaseio.com",storageBucket:"usable-post.appspot.com"};firebase.initializeApp(config);var db={jobs:firebase.database().ref("jobs")},postList={template:"#postList",data:function(){return{jobs:[]}},watch:{$route:"fetchData"},created:function(){this.fetchData()},methods:{fetchData:function(){var t=this;db.jobs.once("value",function(e){e.forEach(function(e){var a=e.val();t.jobs.push(a)})})}}},newJob={template:"#addJob",data:function(){return{jobs:{}}},methods:{save:function(){var t=getCurrentDate();this.jobs.slug=generateUUID(),this.jobs.slugifiedTitle=slugify(this.jobs.title),this.jobs.slugifiedCompanyName=slugify(this.jobs.companyName);var e=randomFour();db.jobs.child(this.jobs.slug).set({title:this.jobs.title,location:this.jobs.location,type:this.jobs.type,description:this.jobs.description,salary:this.jobs.salary,applicationMethod:this.jobs.applicationMethod,companyName:this.jobs.companyName,companyWebsite:this.jobs.companyWebsite,adminContactName:this.jobs.adminContactName,adminContactEmail:this.jobs.adminContactEmail,approved:!1,key:this.jobs.slug,slug:e+"-"+this.jobs.slugifiedTitle+"-"+this.jobs.slugifiedCompanyName,timestamp:t}),this.$router.push("/")}}},viewJob={template:"#singleJob",data:function(){return{jobs:[]}},watch:{$route:"fetchData"},created:function(){this.fetchData()},methods:{fetchData:function(){var t=this;db.jobs.child(this.$route.params.slug).once("value",function(e){null===e.val()?router.push("/404"):t.jobs=e.val()})}}},notFound={template:"#NotFound"},router=new VueRouter({routes:[{name:"home",path:"/",component:postList},{name:"newJob",path:"/add-job",component:newJob},{name:"viewJob",path:"/posts/:slug",component:viewJob},{name:"404",path:"/404",component:notFound}]}),app=new Vue({router:router}).$mount("#app");